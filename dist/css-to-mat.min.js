/*
Copyright (c) 2019 Daybrush
name: css-to-mat
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/css-to-mat.git
version: 0.1.0
*/
!function(t,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):(t=t||self).CssToMatrix=a()}(this,function(){"use strict";var Y=1e-6,m="undefined"!=typeof Float32Array?Float32Array:Array;Math.random,Math.PI;function w(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function t(t,a,r){var n=a[0],e=a[1],o=a[2],u=a[3],i=a[4],s=a[5],h=a[6],f=a[7],M=a[8],c=a[9],l=a[10],v=a[11],b=a[12],p=a[13],m=a[14],d=a[15],y=r[0],x=r[1],g=r[2],F=r[3];return t[0]=y*n+x*i+g*M+F*b,t[1]=y*e+x*s+g*c+F*p,t[2]=y*o+x*h+g*l+F*m,t[3]=y*u+x*f+g*v+F*d,y=r[4],x=r[5],g=r[6],F=r[7],t[4]=y*n+x*i+g*M+F*b,t[5]=y*e+x*s+g*c+F*p,t[6]=y*o+x*h+g*l+F*m,t[7]=y*u+x*f+g*v+F*d,y=r[8],x=r[9],g=r[10],F=r[11],t[8]=y*n+x*i+g*M+F*b,t[9]=y*e+x*s+g*c+F*p,t[10]=y*o+x*h+g*l+F*m,t[11]=y*u+x*f+g*v+F*d,y=r[12],x=r[13],g=r[14],F=r[15],t[12]=y*n+x*i+g*M+F*b,t[13]=y*e+x*s+g*c+F*p,t[14]=y*o+x*h+g*l+F*m,t[15]=y*u+x*f+g*v+F*d,t}function c(t,a,r){var n=a[0],e=a[1],o=a[2],u=a[3],i=n+n,s=e+e,h=o+o,f=n*i,M=n*s,c=n*h,l=e*s,v=e*h,b=o*h,p=u*i,m=u*s,d=u*h;return t[0]=1-(l+b),t[1]=M+d,t[2]=c-m,t[3]=0,t[4]=M-d,t[5]=1-(f+b),t[6]=v+p,t[7]=0,t[8]=c+m,t[9]=v-p,t[10]=1-(f+l),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function d(t,a){var r=a[0],n=a[1],e=a[2],o=a[4],u=a[5],i=a[6],s=a[8],h=a[9],f=a[10];return t[0]=Math.hypot(r,n,e),t[1]=Math.hypot(o,u,i),t[2]=Math.hypot(s,h,f),t}function a(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t[4]=a[4]-r[4],t[5]=a[5]-r[5],t[6]=a[6]-r[6],t[7]=a[7]-r[7],t[8]=a[8]-r[8],t[9]=a[9]-r[9],t[10]=a[10]-r[10],t[11]=a[11]-r[11],t[12]=a[12]-r[12],t[13]=a[13]-r[13],t[14]=a[14]-r[14],t[15]=a[15]-r[15],t}Math.hypot||(Math.hypot=function(){for(var t=0,a=arguments.length;a--;)t+=arguments[a]*arguments[a];return Math.sqrt(t)});var e={create:function(){var t=new m(16);return m!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},clone:function(t){var a=new m(16);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a},copy:function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},fromValues:function(t,a,r,n,e,o,u,i,s,h,f,M,c,l,v,b){var p=new m(16);return p[0]=t,p[1]=a,p[2]=r,p[3]=n,p[4]=e,p[5]=o,p[6]=u,p[7]=i,p[8]=s,p[9]=h,p[10]=f,p[11]=M,p[12]=c,p[13]=l,p[14]=v,p[15]=b,p},set:function(t,a,r,n,e,o,u,i,s,h,f,M,c,l,v,b,p){return t[0]=a,t[1]=r,t[2]=n,t[3]=e,t[4]=o,t[5]=u,t[6]=i,t[7]=s,t[8]=h,t[9]=f,t[10]=M,t[11]=c,t[12]=l,t[13]=v,t[14]=b,t[15]=p,t},identity:w,transpose:function(t,a){if(t===a){var r=a[1],n=a[2],e=a[3],o=a[6],u=a[7],i=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=r,t[6]=a[9],t[7]=a[13],t[8]=n,t[9]=o,t[11]=a[14],t[12]=e,t[13]=u,t[14]=i}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t},invert:function(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],u=a[4],i=a[5],s=a[6],h=a[7],f=a[8],M=a[9],c=a[10],l=a[11],v=a[12],b=a[13],p=a[14],m=a[15],d=r*i-n*u,y=r*s-e*u,x=r*h-o*u,g=n*s-e*i,F=n*h-o*i,w=e*h-o*s,A=f*b-M*v,q=f*p-c*v,R=f*m-l*v,S=M*p-c*b,T=M*m-l*b,I=c*m-l*p,P=d*I-y*T+x*S+g*R-F*q+w*A;return P?(P=1/P,t[0]=(i*I-s*T+h*S)*P,t[1]=(e*T-n*I-o*S)*P,t[2]=(b*w-p*F+m*g)*P,t[3]=(c*F-M*w-l*g)*P,t[4]=(s*R-u*I-h*q)*P,t[5]=(r*I-e*R+o*q)*P,t[6]=(p*x-v*w-m*y)*P,t[7]=(f*w-c*x+l*y)*P,t[8]=(u*T-i*R+h*A)*P,t[9]=(n*R-r*T-o*A)*P,t[10]=(v*F-b*x+m*d)*P,t[11]=(M*x-f*F-l*d)*P,t[12]=(i*q-u*S-s*A)*P,t[13]=(r*S-n*q+e*A)*P,t[14]=(b*y-v*g-p*d)*P,t[15]=(f*g-M*y+c*d)*P,t):null},adjoint:function(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],u=a[4],i=a[5],s=a[6],h=a[7],f=a[8],M=a[9],c=a[10],l=a[11],v=a[12],b=a[13],p=a[14],m=a[15];return t[0]=i*(c*m-l*p)-M*(s*m-h*p)+b*(s*l-h*c),t[1]=-(n*(c*m-l*p)-M*(e*m-o*p)+b*(e*l-o*c)),t[2]=n*(s*m-h*p)-i*(e*m-o*p)+b*(e*h-o*s),t[3]=-(n*(s*l-h*c)-i*(e*l-o*c)+M*(e*h-o*s)),t[4]=-(u*(c*m-l*p)-f*(s*m-h*p)+v*(s*l-h*c)),t[5]=r*(c*m-l*p)-f*(e*m-o*p)+v*(e*l-o*c),t[6]=-(r*(s*m-h*p)-u*(e*m-o*p)+v*(e*h-o*s)),t[7]=r*(s*l-h*c)-u*(e*l-o*c)+f*(e*h-o*s),t[8]=u*(M*m-l*b)-f*(i*m-h*b)+v*(i*l-h*M),t[9]=-(r*(M*m-l*b)-f*(n*m-o*b)+v*(n*l-o*M)),t[10]=r*(i*m-h*b)-u*(n*m-o*b)+v*(n*h-o*i),t[11]=-(r*(i*l-h*M)-u*(n*l-o*M)+f*(n*h-o*i)),t[12]=-(u*(M*p-c*b)-f*(i*p-s*b)+v*(i*c-s*M)),t[13]=r*(M*p-c*b)-f*(n*p-e*b)+v*(n*c-e*M),t[14]=-(r*(i*p-s*b)-u*(n*p-e*b)+v*(n*s-e*i)),t[15]=r*(i*c-s*M)-u*(n*c-e*M)+f*(n*s-e*i),t},determinant:function(t){var a=t[0],r=t[1],n=t[2],e=t[3],o=t[4],u=t[5],i=t[6],s=t[7],h=t[8],f=t[9],M=t[10],c=t[11],l=t[12],v=t[13],b=t[14],p=t[15];return(a*u-r*o)*(M*p-c*b)-(a*i-n*o)*(f*p-c*v)+(a*s-e*o)*(f*b-M*v)+(r*i-n*u)*(h*p-c*l)-(r*s-e*u)*(h*b-M*l)+(n*s-e*i)*(h*v-f*l)},multiply:t,translate:function(t,a,r){var n,e,o,u,i,s,h,f,M,c,l,v,b=r[0],p=r[1],m=r[2];return a===t?(t[12]=a[0]*b+a[4]*p+a[8]*m+a[12],t[13]=a[1]*b+a[5]*p+a[9]*m+a[13],t[14]=a[2]*b+a[6]*p+a[10]*m+a[14],t[15]=a[3]*b+a[7]*p+a[11]*m+a[15]):(n=a[0],e=a[1],o=a[2],u=a[3],i=a[4],s=a[5],h=a[6],f=a[7],M=a[8],c=a[9],l=a[10],v=a[11],t[0]=n,t[1]=e,t[2]=o,t[3]=u,t[4]=i,t[5]=s,t[6]=h,t[7]=f,t[8]=M,t[9]=c,t[10]=l,t[11]=v,t[12]=n*b+i*p+M*m+a[12],t[13]=e*b+s*p+c*m+a[13],t[14]=o*b+h*p+l*m+a[14],t[15]=u*b+f*p+v*m+a[15]),t},scale:function(t,a,r){var n=r[0],e=r[1],o=r[2];return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*e,t[5]=a[5]*e,t[6]=a[6]*e,t[7]=a[7]*e,t[8]=a[8]*o,t[9]=a[9]*o,t[10]=a[10]*o,t[11]=a[11]*o,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},rotate:function(t,a,r,n){var e,o,u,i,s,h,f,M,c,l,v,b,p,m,d,y,x,g,F,w,A,q,R,S,T=n[0],I=n[1],P=n[2],Z=Math.hypot(T,I,P);return Z<Y?null:(T*=Z=1/Z,I*=Z,P*=Z,e=Math.sin(r),u=1-(o=Math.cos(r)),i=a[0],s=a[1],h=a[2],f=a[3],M=a[4],c=a[5],l=a[6],v=a[7],b=a[8],p=a[9],m=a[10],d=a[11],y=T*T*u+o,x=I*T*u+P*e,g=P*T*u-I*e,F=T*I*u-P*e,w=I*I*u+o,A=P*I*u+T*e,q=T*P*u+I*e,R=I*P*u-T*e,S=P*P*u+o,t[0]=i*y+M*x+b*g,t[1]=s*y+c*x+p*g,t[2]=h*y+l*x+m*g,t[3]=f*y+v*x+d*g,t[4]=i*F+M*w+b*A,t[5]=s*F+c*w+p*A,t[6]=h*F+l*w+m*A,t[7]=f*F+v*w+d*A,t[8]=i*q+M*R+b*S,t[9]=s*q+c*R+p*S,t[10]=h*q+l*R+m*S,t[11]=f*q+v*R+d*S,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t)},rotateX:function(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[4],u=a[5],i=a[6],s=a[7],h=a[8],f=a[9],M=a[10],c=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=o*e+h*n,t[5]=u*e+f*n,t[6]=i*e+M*n,t[7]=s*e+c*n,t[8]=h*e-o*n,t[9]=f*e-u*n,t[10]=M*e-i*n,t[11]=c*e-s*n,t},rotateY:function(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[0],u=a[1],i=a[2],s=a[3],h=a[8],f=a[9],M=a[10],c=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*e-h*n,t[1]=u*e-f*n,t[2]=i*e-M*n,t[3]=s*e-c*n,t[8]=o*n+h*e,t[9]=u*n+f*e,t[10]=i*n+M*e,t[11]=s*n+c*e,t},rotateZ:function(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[0],u=a[1],i=a[2],s=a[3],h=a[4],f=a[5],M=a[6],c=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*e+h*n,t[1]=u*e+f*n,t[2]=i*e+M*n,t[3]=s*e+c*n,t[4]=h*e-o*n,t[5]=f*e-u*n,t[6]=M*e-i*n,t[7]=c*e-s*n,t},fromTranslation:function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},fromScaling:function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromRotation:function(t,a,r){var n,e,o,u=r[0],i=r[1],s=r[2],h=Math.hypot(u,i,s);return h<Y?null:(u*=h=1/h,i*=h,s*=h,n=Math.sin(a),o=1-(e=Math.cos(a)),t[0]=u*u*o+e,t[1]=i*u*o+s*n,t[2]=s*u*o-i*n,t[3]=0,t[4]=u*i*o-s*n,t[5]=i*i*o+e,t[6]=s*i*o+u*n,t[7]=0,t[8]=u*s*o+i*n,t[9]=i*s*o-u*n,t[10]=s*s*o+e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},fromXRotation:function(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromYRotation:function(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromZRotation:function(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromRotationTranslation:c,fromQuat2:function(t,a){var r=new m(3),n=-a[0],e=-a[1],o=-a[2],u=a[3],i=a[4],s=a[5],h=a[6],f=a[7],M=n*n+e*e+o*o+u*u;return 0<M?(r[0]=2*(i*u+f*n+s*o-h*e)/M,r[1]=2*(s*u+f*e+h*n-i*o)/M,r[2]=2*(h*u+f*o+i*e-s*n)/M):(r[0]=2*(i*u+f*n+s*o-h*e),r[1]=2*(s*u+f*e+h*n-i*o),r[2]=2*(h*u+f*o+i*e-s*n)),c(t,a,r),t},getTranslation:function(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t},getScaling:d,getRotation:function(t,a){var r=new m(3);d(r,a);var n=1/r[0],e=1/r[1],o=1/r[2],u=a[0]*n,i=a[1]*e,s=a[2]*o,h=a[4]*n,f=a[5]*e,M=a[6]*o,c=a[8]*n,l=a[9]*e,v=a[10]*o,b=u+f+v,p=0;return 0<b?(p=2*Math.sqrt(1+b),t[3]=.25*p,t[0]=(M-l)/p,t[1]=(c-s)/p,t[2]=(i-h)/p):f<u&&v<u?(p=2*Math.sqrt(1+u-f-v),t[3]=(M-l)/p,t[0]=.25*p,t[1]=(i+h)/p,t[2]=(c+s)/p):v<f?(p=2*Math.sqrt(1+f-u-v),t[3]=(c-s)/p,t[0]=(i+h)/p,t[1]=.25*p,t[2]=(M+l)/p):(p=2*Math.sqrt(1+v-u-f),t[3]=(i-h)/p,t[0]=(c+s)/p,t[1]=(M+l)/p,t[2]=.25*p),t},fromRotationTranslationScale:function(t,a,r,n){var e=a[0],o=a[1],u=a[2],i=a[3],s=e+e,h=o+o,f=u+u,M=e*s,c=e*h,l=e*f,v=o*h,b=o*f,p=u*f,m=i*s,d=i*h,y=i*f,x=n[0],g=n[1],F=n[2];return t[0]=(1-(v+p))*x,t[1]=(c+y)*x,t[2]=(l-d)*x,t[3]=0,t[4]=(c-y)*g,t[5]=(1-(M+p))*g,t[6]=(b+m)*g,t[7]=0,t[8]=(l+d)*F,t[9]=(b-m)*F,t[10]=(1-(M+v))*F,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},fromRotationTranslationScaleOrigin:function(t,a,r,n,e){var o=a[0],u=a[1],i=a[2],s=a[3],h=o+o,f=u+u,M=i+i,c=o*h,l=o*f,v=o*M,b=u*f,p=u*M,m=i*M,d=s*h,y=s*f,x=s*M,g=n[0],F=n[1],w=n[2],A=e[0],q=e[1],R=e[2],S=(1-(b+m))*g,T=(l+x)*g,I=(v-y)*g,P=(l-x)*F,Z=(1-(c+m))*F,j=(p+d)*F,X=(v+y)*w,Y=(p-d)*w,D=(1-(c+b))*w;return t[0]=S,t[1]=T,t[2]=I,t[3]=0,t[4]=P,t[5]=Z,t[6]=j,t[7]=0,t[8]=X,t[9]=Y,t[10]=D,t[11]=0,t[12]=r[0]+A-(S*A+P*q+X*R),t[13]=r[1]+q-(T*A+Z*q+Y*R),t[14]=r[2]+R-(I*A+j*q+D*R),t[15]=1,t},fromQuat:function(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],u=r+r,i=n+n,s=e+e,h=r*u,f=n*u,M=n*i,c=e*u,l=e*i,v=e*s,b=o*u,p=o*i,m=o*s;return t[0]=1-M-v,t[1]=f+m,t[2]=c-p,t[3]=0,t[4]=f-m,t[5]=1-h-v,t[6]=l+b,t[7]=0,t[8]=c+p,t[9]=l-b,t[10]=1-h-M,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},frustum:function(t,a,r,n,e,o,u){var i=1/(r-a),s=1/(e-n),h=1/(o-u);return t[0]=2*o*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(r+a)*i,t[9]=(e+n)*s,t[10]=(u+o)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=u*o*2*h,t[15]=0,t},perspective:function(t,a,r,n,e){var o,u=1/Math.tan(a/2);return t[0]=u/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(o=1/(n-e),t[10]=(e+n)*o,t[14]=2*e*n*o):(t[10]=-1,t[14]=-2*n),t},perspectiveFromFieldOfView:function(t,a,r,n){var e=Math.tan(a.upDegrees*Math.PI/180),o=Math.tan(a.downDegrees*Math.PI/180),u=Math.tan(a.leftDegrees*Math.PI/180),i=Math.tan(a.rightDegrees*Math.PI/180),s=2/(u+i),h=2/(e+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-(u-i)*s*.5,t[9]=(e-o)*h*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t},ortho:function(t,a,r,n,e,o,u){var i=1/(a-r),s=1/(n-e),h=1/(o-u);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(a+r)*i,t[13]=(e+n)*s,t[14]=(u+o)*h,t[15]=1,t},lookAt:function(t,a,r,n){var e,o,u,i,s,h,f,M,c,l,v=a[0],b=a[1],p=a[2],m=n[0],d=n[1],y=n[2],x=r[0],g=r[1],F=r[2];return Math.abs(v-x)<Y&&Math.abs(b-g)<Y&&Math.abs(p-F)<Y?w(t):(f=v-x,M=b-g,c=p-F,e=d*(c*=l=1/Math.hypot(f,M,c))-y*(M*=l),o=y*(f*=l)-m*c,u=m*M-d*f,(l=Math.hypot(e,o,u))?(e*=l=1/l,o*=l,u*=l):u=o=e=0,i=M*u-c*o,s=c*e-f*u,h=f*o-M*e,(l=Math.hypot(i,s,h))?(i*=l=1/l,s*=l,h*=l):h=s=i=0,t[0]=e,t[1]=i,t[2]=f,t[3]=0,t[4]=o,t[5]=s,t[6]=M,t[7]=0,t[8]=u,t[9]=h,t[10]=c,t[11]=0,t[12]=-(e*v+o*b+u*p),t[13]=-(i*v+s*b+h*p),t[14]=-(f*v+M*b+c*p),t[15]=1,t)},targetTo:function(t,a,r,n){var e=a[0],o=a[1],u=a[2],i=n[0],s=n[1],h=n[2],f=e-r[0],M=o-r[1],c=u-r[2],l=f*f+M*M+c*c;0<l&&(f*=l=1/Math.sqrt(l),M*=l,c*=l);var v=s*c-h*M,b=h*f-i*c,p=i*M-s*f;return 0<(l=v*v+b*b+p*p)&&(v*=l=1/Math.sqrt(l),b*=l,p*=l),t[0]=v,t[1]=b,t[2]=p,t[3]=0,t[4]=M*p-c*b,t[5]=c*v-f*p,t[6]=f*b-M*v,t[7]=0,t[8]=f,t[9]=M,t[10]=c,t[11]=0,t[12]=e,t[13]=o,t[14]=u,t[15]=1,t},str:function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},frob:function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},add:function(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t[4]=a[4]+r[4],t[5]=a[5]+r[5],t[6]=a[6]+r[6],t[7]=a[7]+r[7],t[8]=a[8]+r[8],t[9]=a[9]+r[9],t[10]=a[10]+r[10],t[11]=a[11]+r[11],t[12]=a[12]+r[12],t[13]=a[13]+r[13],t[14]=a[14]+r[14],t[15]=a[15]+r[15],t},subtract:a,multiplyScalar:function(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*r,t[5]=a[5]*r,t[6]=a[6]*r,t[7]=a[7]*r,t[8]=a[8]*r,t[9]=a[9]*r,t[10]=a[10]*r,t[11]=a[11]*r,t[12]=a[12]*r,t[13]=a[13]*r,t[14]=a[14]*r,t[15]=a[15]*r,t},multiplyScalarAndAdd:function(t,a,r,n){return t[0]=a[0]+r[0]*n,t[1]=a[1]+r[1]*n,t[2]=a[2]+r[2]*n,t[3]=a[3]+r[3]*n,t[4]=a[4]+r[4]*n,t[5]=a[5]+r[5]*n,t[6]=a[6]+r[6]*n,t[7]=a[7]+r[7]*n,t[8]=a[8]+r[8]*n,t[9]=a[9]+r[9]*n,t[10]=a[10]+r[10]*n,t[11]=a[11]+r[11]*n,t[12]=a[12]+r[12]*n,t[13]=a[13]+r[13]*n,t[14]=a[14]+r[14]*n,t[15]=a[15]+r[15]*n,t},exactEquals:function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]},equals:function(t,a){var r=t[0],n=t[1],e=t[2],o=t[3],u=t[4],i=t[5],s=t[6],h=t[7],f=t[8],M=t[9],c=t[10],l=t[11],v=t[12],b=t[13],p=t[14],m=t[15],d=a[0],y=a[1],x=a[2],g=a[3],F=a[4],w=a[5],A=a[6],q=a[7],R=a[8],S=a[9],T=a[10],I=a[11],P=a[12],Z=a[13],j=a[14],X=a[15];return Math.abs(r-d)<=Y*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(n-y)<=Y*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(e-x)<=Y*Math.max(1,Math.abs(e),Math.abs(x))&&Math.abs(o-g)<=Y*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(u-F)<=Y*Math.max(1,Math.abs(u),Math.abs(F))&&Math.abs(i-w)<=Y*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(s-A)<=Y*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(h-q)<=Y*Math.max(1,Math.abs(h),Math.abs(q))&&Math.abs(f-R)<=Y*Math.max(1,Math.abs(f),Math.abs(R))&&Math.abs(M-S)<=Y*Math.max(1,Math.abs(M),Math.abs(S))&&Math.abs(c-T)<=Y*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(l-I)<=Y*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(v-P)<=Y*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(b-Z)<=Y*Math.max(1,Math.abs(b),Math.abs(Z))&&Math.abs(p-j)<=Y*Math.max(1,Math.abs(p),Math.abs(j))&&Math.abs(m-X)<=Y*Math.max(1,Math.abs(m),Math.abs(X))},mul:t,sub:a};function r(){var t=new m(3);return m!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function n(t,a,r){var n=new m(3);return n[0]=t,n[1]=a,n[2]=r,n}function o(t,a,r){var n=a[0],e=a[1],o=a[2],u=r[0],i=r[1],s=r[2];return t[0]=e*s-o*i,t[1]=o*u-n*s,t[2]=n*i-e*u,t}var u,i=function(t){var a=t[0],r=t[1],n=t[2];return Math.hypot(a,r,n)};u=r();function s(){var t=new m(4);return m!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function h(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],u=r*r+n*n+e*e+o*o;return 0<u&&(u=1/Math.sqrt(u)),t[0]=r*u,t[1]=n*u,t[2]=e*u,t[3]=o*u,t}var f;f=s();function M(){var t=new m(4);return m!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function l(t,a,r){r*=.5;var n=Math.sin(r);return t[0]=n*a[0],t[1]=n*a[1],t[2]=n*a[2],t[3]=Math.cos(r),t}function v(t,a,r,n){var e,o,u,i,s,h=a[0],f=a[1],M=a[2],c=a[3],l=r[0],v=r[1],b=r[2],p=r[3];return(o=h*l+f*v+M*b+c*p)<0&&(o=-o,l=-l,v=-v,b=-b,p=-p),s=Y<1-o?(e=Math.acos(o),u=Math.sin(e),i=Math.sin((1-n)*e)/u,Math.sin(n*e)/u):(i=1-n,n),t[0]=i*h+s*l,t[1]=i*f+s*v,t[2]=i*M+s*b,t[3]=i*c+s*p,t}function b(t,a){var r,n=a[0]+a[4]+a[8];if(0<n)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(a[5]-a[7])*r,t[1]=(a[6]-a[2])*r,t[2]=(a[1]-a[3])*r;else{var e=0;a[4]>a[0]&&(e=1),a[8]>a[3*e+e]&&(e=2);var o=(e+1)%3,u=(e+2)%3;r=Math.sqrt(a[3*e+e]-a[3*o+o]-a[3*u+u]+1),t[e]=.5*r,r=.5/r,t[3]=(a[3*o+u]-a[3*u+o])*r,t[o]=(a[3*o+e]+a[3*e+o])*r,t[u]=(a[3*u+e]+a[3*e+u])*r}return t}var p,y,x,g,F,A,q=h;p=r(),y=n(1,0,0),x=n(0,1,0),g=M(),F=M(),A=function(){var t=new m(9);return m!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}();R=function(){var t=new m(2);return m!=Float32Array&&(t[0]=0,t[1]=0),t}();var R,S=['"',"'",'\\"',"\\'"];function T(t,a,r,n){for(var e=r;e<n;++e){var o=a[e].trim();if(o===t)return e;var u=e;if("("===o?u=T(")",a,e+1,n):-1<S.indexOf(o)&&(u=T(o,a,e+1,n)),-1===u)break;e=u}return-1}function I(t,a){for(var r=new RegExp("(\\s*"+(a||",")+"\\s*|\\(|\\)|\"|'|\\\\\"|\\\\'|\\s+)","g"),n=t.split(r).filter(Boolean),e=n.length,o=[],u=[],i=0;i<e;++i){var s=n[i].trim(),h=i;if("("===s)h=T(")",n,i+1,e);else{if(")"===s)throw new Error("invalid format");if(-1<S.indexOf(s))h=T(s,n,i+1,e);else if(s===a){u.length&&(o.push(u.join("")),u=[]);continue}}-1===h&&(h=e-1),u.push(n.slice(i,h+1).join("")),i=h}return u.length&&o.push(u.join("")),o}function P(t){return I(t,",")}function Z(t){var n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach(function(t){var a=t.functionName,r=t.functionValue;a&&e[a](n,n,r)}),n}function j(t){return(function(t){return Array.isArray(t)}(t)?t:function(t){return I(t,"")}(t)).map(function(t){var a=function(t){var a=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!a||a.length<4?{}:{prefix:a[1],value:a[2],suffix:a[3]}}(t),r=a.prefix,n=a.value,e="",o="";if("translate"===r||"translateX"===r||"translate3d"===r){var u=P(n).map(function(t){return parseFloat(t)}),i=u[0],s=u[1],h=void 0===s?0:s,f=u[2];e="translate",o=[i,h,void 0===f?0:f]}else if("translateY"===r){e="translate",o=[0,h=parseFloat(n),0]}else if("translateZ"===r){e="translate",o=[0,0,parseFloat(n)]}else if("scale"===r||"scale3d"===r){var M=P(n).map(function(t){return parseFloat(t)}),c=M[0],l=M[1],v=void 0===l?c:l,b=M[2];e="scale",o=[c,v,void 0===b?1:b]}else if("scaleX"===r){e="scale",o=[c=parseFloat(n),1,1]}else if("scaleY"===r){e="scale",o=[1,v=parseFloat(n),1]}else if("scaleZ"===r){e="scale",o=[1,1,parseFloat(n)]}else if("rotate"===r||"rotateZ"===r||"rotateX"===r||"rotateY"===r){var p=function(t){var a=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!a)return{prefix:"",unit:"",value:NaN};var r=a[1],n=a[2];return{prefix:r,unit:a[3],value:parseFloat(n)}}(n),m=p.unit,d=p.value;e="rotate"===r?"rotateZ":r,o="rad"===m?d:d*Math.PI/180}else if("matrix3d"===r)e="multiply",o=P(n).map(function(t){return parseFloat(t)});else if("matrix"===r){var y=P(n).map(function(t){return parseFloat(t)});e="multiply",o=[y[0],y[1],0,0,y[2],y[3],0,0,0,0,1,0,y[4],y[5],0,1]}return{name:r,value:n,functionName:e,functionValue:o}})}return{parseMat:function(t){return Z(j(t))},toMat:Z,parse:j}});
//# sourceMappingURL=css-to-mat.min.js.map
